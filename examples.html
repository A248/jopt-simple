<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2017-07-12 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>JOpt Simple - a Java command line parsing library - Examples of Usage</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20170712" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://pholser.github.com/jopt-simple/" id="bannerLeft">
                                                <img src="images/jopt-simple-logo.png" alt="JOpt Simple" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-07-12</span>
                  &nbsp;| <span id="projectVersion">Version: 5.0.4</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>JOpt Simple</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="Download">Download</a>
            </li>
                  <li class="none">
            <strong>Examples</strong>
          </li>
                  <li class="none">
                          <a href="changes.html" title="Change Log">Change Log</a>
            </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            </li>
                  <li class="none">
                          <a href="developer.html" title="Developer Docs">Developer Docs</a>
            </li>
                  <li class="none">
                          <a href="acknowledgments.html" title="Acknowledgements">Acknowledgements</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>Preamble<a name="Preamble"></a></h2>
<p>The simplicity in JOpt &quot;Simple&quot; arises from two guiding principles:</p>
<ul>
<li>Stick as often as possible to supporting conventional Unix option syntaxes.</li>
<li>Keep the surface area of the published API as small and simple as possible.</li></ul>
<p>To the first principle: You will not see support in JOpt Simple for option &quot;groups&quot;, alternative option prefixes (<tt>+</tt>, <tt>/</tt>), enforced multiplicity of option arguments, etc. JOpt Simple believes you can create a useful and understandable CLI without all that stuff. If you feel as though you need any of those features, there are lots of other choices out there. The author of JOpt Simple believes you'll want to leverage its easy configuration, parsing, and option interrogation APIs instead of using more feature-laden, but perhaps more confusing libraries.</p>
<p>To the second principle: JOpt Simple will make every attempt to keep the API free of clutter. The API is well factored, making it intuitive to use, and the entire library is well tested, making it more reliable and predictable. If you cannot look at the Javadoc and quickly get a sense of what you need to do to use JOpt Simple, then JOpt Simple has failed. So by all means, let the author know what needs improved.</p>
<p>With that said, let's take a tour through JOpt Simple's features.</p></div>
<div class="section">
<h2>Options<a name="Options"></a></h2>
<p>JOpt Simple supports short options and long options, using a syntax that attempts to take from the best of POSIX <tt>getopt()</tt> and GNU <tt>getopt_long()</tt>.</p>
<div class="section">
<h3>Short Options<a name="Short_Options"></a></h3>
<p>Short options begin with a single hyphen (<tt>-</tt>) followed by a single letter or digit, or question mark (<tt>?</tt>), or dot (<tt>.</tt>).</p>
<div class="source">
<pre>@SHORT_OPTIONS_EXAMPLE@</pre></div>
<p>When you construct an <tt>OptionParser</tt> with a string of short option characters, you configure that parser to recognize the options with those characters.</p>
<div class="section">
<h4>Arguments of Options<a name="Arguments_of_Options"></a></h4>
<p>Short options can accept single arguments. The argument can be made required or optional. When you construct an <tt>OptionParser</tt> with a string of short option characters, append a single colon (<tt>:</tt>) to an option character to configure that option to require an argument. Append two colons (<tt>::</tt>) to an option character to configure that option to accept an optional argument. Append an asterisk (<tt>*</tt>) to an option character, but before any &quot;argument&quot; indicators, to configure that option as a &quot;help&quot; option.</p>
<p>The syntax of the option specification string given to the <tt>OptionParser</tt> constructor should look familiar to you if you have used GNU's <tt>getopt()</tt> before.</p>
<div class="source">
<pre>@SHORT_OPTIONS_WITH_ARGUMENTS_EXAMPLE@</pre></div>
<div class="section">
<h5>Specifying Arguments for a Short Option on the Command Line<a name="Specifying_Arguments_for_a_Short_Option_on_the_Command_Line"></a></h5>
<p>A short option's argument can occur:</p>
<ul>
<li>in the position on the command line after the option</li>
<li>right up against the option</li>
<li>right up against the option separated by an equals sign (<tt>=</tt>)</li></ul>
<div class="source">
<pre>@SHORT_OPTIONS_WITH_ARGUMENT_POSITIONING_EXAMPLE@</pre></div></div>
<div class="section">
<h5>Multiple Arguments for a Single Option<a name="Multiple_Arguments_for_a_Single_Option"></a></h5>
<p>To specify <i>n</i> arguments for a single option, specify the option <i>n</i> times on the command line, once for each argument. JOpt Simple reports the arguments given to the option in the order in which they were encountered on the command line.</p>
<div class="source">
<pre>@SHORT_OPTIONS_WITH_MULTIPLE_ARGUMENTS_FOR_SINGLE_OPTION_EXAMPLE@</pre></div></div></div>
<div class="section">
<h4>Clustering Short Options<a name="Clustering_Short_Options"></a></h4>
<p>Short options can be <i>clustered</i> in a single argument.</p>
<div class="source">
<pre>@SHORT_OPTIONS_CLUSTERING_EXAMPLE@</pre></div>
<p>If one of the short options can accept an argument, the remaining characters are interpreted as the argument for that option.</p>
<div class="source">
<pre>@SHORT_OPTIONS_CLUSTERING_WITH_ARGUMENT_EXAMPLE@</pre></div></div></div>
<div class="section">
<h3>Long Options/Fluent Interface<a name="Long_OptionsFluent_Interface"></a></h3>
<p>Long options begin with two hyphens (<tt>--</tt>), followed by multiple letters, digits, hyphens, question marks, or dots. A hyphen cannot be the first character of a long option specification when configuring the parser.</p>
<p>Whereas short options can be configured using a constructor argument to <tt>OptionParser</tt>, both long and short options can be configured using a &quot;fluent interface&quot; API, that enables some very descriptive and powerful features.</p>
<div class="source">
<pre>@LONG_OPTIONS_EXAMPLE@</pre></div>
<div class="section">
<h4>Arguments of Options<a name="Arguments_of_Options"></a></h4>
<p>Like short options, long options can accept single arguments. The argument can be made required or optional. Use the methods <tt>withRequiredArg()</tt> and <tt>withOptionalArg()</tt> on the return value of <tt>OptionParser.accepts()</tt> to signal that an option takes a required or optional argument.</p>
<div class="source">
<pre>@LONG_OPTIONS_WITH_ARGUMENTS_EXAMPLE@</pre></div></div>
<div class="section">
<h4>Abbreviating Long Options<a name="Abbreviating_Long_Options"></a></h4>
<p>Notice in the example above that the command line uses abbreviations of command line options. You can abbreviate options so long as the abbreviation is unambiguous. Even though you can abbreviate the options on the command line, you cannot address the <tt>OptionSet</tt> using those abbreviations. You can use a special constructor for the <tt>OptionParser</tt> that turns off abbreviation matching.</p></div>
<div class="section">
<h4>Using Single Hyphen on Long Options<a name="Using_Single_Hyphen_on_Long_Options"></a></h4>
<p>As demonstrated in the example above, you can use a single hyphen instead of a double hyphen to specify a long option -- but be careful that doing so doesn't introduce ambiguity.</p>
<div class="section">
<h5>Specifying Arguments for a Long Option on the Command Line<a name="Specifying_Arguments_for_a_Long_Option_on_the_Command_Line"></a></h5>
<p>A long option's argument can occur:</p>
<ul>
<li>in the position on the command line after the option</li>
<li>right up against the option separated by an equals sign (<tt>=</tt>)</li></ul>
<div class="source">
<pre>@LONG_OPTIONS_WITH_ARGUMENT_POSITIONING_EXAMPLE@</pre></div></div>
<div class="section">
<h5>Multiple Arguments for a Single Option<a name="Multiple_Arguments_for_a_Single_Option"></a></h5>
<p>Specify multiple arguments for a long option in the same manner as for short options (see above).</p></div></div>
<div class="section">
<h4>Alternative Form of Long Options<a name="Alternative_Form_of_Long_Options"></a></h4>
<p>The option <tt>-W</tt> is reserved. If you tell the parser to recognize alternative long options, then it will treat, for example, <tt>-W foo=bar</tt> as the long option <tt>foo</tt> with argument bar, as though you had written <tt>--foo=bar</tt>.</p>
<p>You can specify <tt>-W</tt> as a valid short option, or use it as an abbreviation for a long option, but recognizing alternative long options will always supersede this behavior.</p>
<p>To recognize alternative long options, either construct an <tt>OptionParser</tt> with a string of short option characters containing the sequence <tt>W;</tt> (a capital W followed by a semicolon), or call the method <tt>OptionParser.recognizeAlternativeLongOptions()</tt>.</p>
<div class="source">
<pre>@ALTERNATIVE_LONG_OPTIONS_EXAMPLE@</pre></div></div></div>
<div class="section">
<h3>Other Features<a name="Other_Features"></a></h3>
<div class="section">
<h4>Converting Option Arguments to Other Types<a name="Converting_Option_Arguments_to_Other_Types"></a></h4>
<p>Without action other than the <tt>with*Arg()</tt> methods, arguments of options are returned as <tt>String</tt>s. For backwards compatibility, <tt>OptionSet.valueOf(String)</tt> and <tt>OptionSet.valuesOf(String)</tt> return <tt>Object</tt> and <tt>List&lt;?</tt>&gt;, respectively, so to get the values out as <tt>String</tt>s, you will need to downcast the results of those methods.</p>
<p>You can tell JOpt Simple to convert the arguments of options to different Java types via the <tt>ofType()</tt> method on the return value of <tt>with*Arg()</tt>. The <tt>Class</tt> argument of <tt>ofType()</tt> must represent a Java class that has either:</p>
<ul>
<li>a <tt>public static</tt> method called <tt>valueOf()</tt> which accepts a single <tt>String</tt> argument and whose return type is the type itself, or</li>
<li>a <tt>public</tt> constructor which takes a single <tt>String</tt> argument.</li></ul>
<p>If the class has both, the <tt>valueOf()</tt> method is used.</p>
<p>Note that <tt>enum</tt>s have a <tt>valueOf()</tt> method.</p>
<div class="source">
<pre>@OPTION_ARGUMENT_VALUE_TYPE_EXAMPLE@</pre></div>
<p>Another way to convert arguments of options is to specify a converter object via <tt>withValuesConvertedBy()</tt>. This is useful when the desired type for the arguments does not meet the requirements that <tt>ofType()</tt> sets forth. Such objects may not perform any &quot;conversion&quot; at all, but rather can validate that arguments conform to certain restrictions before passing through as-is.</p>
<p>You can also do this for the non-option arguments of your command line, if you desire to treat them all as a single type.</p>
<div class="source">
<pre>@OPTION_ARGUMENT_CONVERTER_EXAMPLE@</pre></div></div>
<div class="section">
<h4>Retrieving Arguments of Options in a Type-Safe Manner<a name="Retrieving_Arguments_of_Options_in_a_Type-Safe_Manner"></a></h4>
<p>In the previous examples, we have been discarding the return values of the methods of JOpt Simple's fluent interface. If instead you retain them in variables of type <tt>OptionSpec</tt>, you can use them to retrieve arguments of options in a type-safe manner.</p>
<p>You can also do this for the non-option arguments of your command line, if you desire to treat them all as a single type.</p>
<div class="source">
<pre>@TYPESAFE_OPTION_ARGUMENT_RETRIEVAL_EXAMPLE@</pre></div></div>
<div class="section">
<h4>Exporting Options and Arguments to other Code<a name="Exporting_Options_and_Arguments_to_other_Code"></a></h4>
<p>As an integration aid for other libraries, you can use <tt>OptionSet.asMap()</tt> to obtain a mapping of <tt>OptionSpec</tt> to option values, for example to create a properties map of options.</p>
<p>Here is sample code to create properties whose keys have a common prefix. The key is choosen as the first non-short option:</p>
<div class="source">
<pre>@EXPORTING_OPTIONS_AND_ARGUMENTS_EXAMPLE@</pre></div></div>
<div class="section">
<h4>Default Values for Option Arguments<a name="Default_Values_for_Option_Arguments"></a></h4>
<p>Often it is convenient to specify default values for the arguments of certain command line options. To do this, call the <tt>defaultsTo()</tt> method.</p>
<div class="source">
<pre>@DEFAULT_VALUES_FOR_OPTION_ARGUMENTS_EXAMPLE@</pre></div>
<p>You can see that <tt>defaultsTo()</tt> should relieve you of the burden of having to check <tt>has()</tt> and/or <tt>hasArgument()</tt> on an <tt>OptionSet</tt> for a given option, and has no bearing on the return values of those methods. Specifying a default value for an option with a required argument does not mean that you can elide an argument for the option on the command line.</p>
<p>The type of values <tt>defaultsTo()</tt> expects is dictated by the class given by a previous call to <tt>ofType()</tt> or <tt>withValuesConvertedBy()</tt>; if no such call has been made, the type is <tt>String</tt>.</p></div>
<div class="section">
<h4>&quot;Required&quot; Options<a name="aRequired_Options"></a></h4>
<p>You can indicate that a given option must be present on the command line via the <tt>required()</tt> method. Only options that accept arguments can be made &quot;required&quot;.</p>
<p>An option designated as a &quot;help&quot; option via <tt>forHelp()</tt>, when present on the command line, causes missing &quot;required&quot; options not to reject the command line.</p>
<div class="source">
<pre>@REQUIRED_OPTIONS_EXAMPLE@</pre></div></div>
<div class="section">
<h4>&quot;Required&quot; Dependent Options<a name="aRequired_Dependent_Options"></a></h4>
<p>You can indicate that a given option must be present on the command line if some other option is present on the command line via the <tt>requiredIf()</tt> method. Any option can be made &quot;required if&quot;.</p>
<p>An option designated as a &quot;help&quot; option via <tt>forHelp()</tt>, when present on the command line, causes missing &quot;required if&quot; options not to reject the command line.</p>
<div class="source">
<pre>@REQUIRED_IF_OPTIONS_EXAMPLE@</pre></div>
<p>You can also indicate that a given option must be present on the command line if some other option is NOT present on the command line via the <tt>requiredUnless()</tt> method. Any option can be made &quot;required unless&quot;, but, to avoid potential conflicts, it should not be &quot;required if&quot; at the same time.</p>
<div class="source">
<pre>@REQUIRED_UNLESS_OPTIONS_EXAMPLE@</pre></div></div>
<div class="section">
<h4>&quot;Available&quot; Dependent Options<a name="aAvailable_Dependent_Options"></a></h4>
<p>Similarly to <tt>requiredIf()</tt> and <tt>requiredUnless()</tt>, you can indicate that a given option can be present on the command line only if/unless some other option is present on the command line, via the <tt>availableIf()</tt> and <tt>availableUnless()</tt> methods.</p></div>
<div class="section">
<h4>Synonyms of Options<a name="Synonyms_of_Options"></a></h4>
<p>Sometimes it is useful to allow many different options to share the same meaning in the program that uses them. To specify that options are to be treated as synonymous, use the <tt>acceptsAll()</tt> method of <tt>OptionParser</tt>.</p>
<div class="source">
<pre>@OPTION_SYNONYM_EXAMPLE@</pre></div></div>
<div class="section">
<h4>Concise Specification of Multiple Arguments for an Option<a name="Concise_Specification_of_Multiple_Arguments_for_an_Option"></a></h4>
<p>Another way to specify multiple arguments for an option is to tell the parser to treat a single argument containing multiple delimited values as multiple arguments for the option using the <tt>withValuesSeparatedBy()</tt> method.</p>
<div class="source">
<pre>@MULTIPLE_DELIMITED_ARGUMENTS_EXAMPLE@</pre></div></div>
<div class="section">
<h4>Signalling End of Options<a name="Signalling_End_of_Options"></a></h4>
<p>An argument consisting only of two hyphens (<tt>--</tt>) signals that the remaining arguments are to be treated as non-options.</p>
<p>An argument consisting only of a single hyphen is considered a non-option argument (though it can be an argument of an option). Many Unix programs treat single hyphens as stand-ins for the standard input or standard output stream.</p>
<div class="section">
<h5>Non-Option Arguments<a name="Non-Option_Arguments"></a></h5>
<p>Any arguments which are not options or arguments of options can be retrieved via method <tt>nonOptionArguments()</tt> on <tt>OptionSet</tt>. If the double hyphen is an argument, it is ignored and is not a non-option argument.</p>
<div class="source">
<pre>@SIGNALLING_END_OF_OPTIONS_EXAMPLE@</pre></div></div></div>
<div class="section">
<h4>&quot;POSIX-ly Correct&quot;-ness<a name="aPOSIX-ly_Correct-ness"></a></h4>
<p>By default, as with GNU <tt>getopt()</tt>, JOpt Simple allows intermixing of options and non-options. If, however, the parser has been created to be &quot;POSIX-ly correct&quot;, then the first argument that does not look lexically like an option, and is not a required argument of a preceding option, signals the end of options. You can still bind optional arguments to their options using the abutting (for short options) or <tt>=</tt> syntax.</p>
<p>Unlike GNU <tt>getopt()</tt>, JOptSimple does not honor the environment variable <tt>POSIXLY_CORRECT</tt>. &quot;POSIX-ly correct&quot; parsers are configured by either:</p>
<ul>
<li>using the method <tt>OptionParser.posixlyCorrect()</tt></li>
<li>using the <tt>OptionParser</tt> constructor with an argument whose first character is a plus sign (<tt>+</tt>)</li></ul>
<div class="source">
<pre>@POSIXLY_CORRECT_EXAMPLE@</pre></div></div>
<div class="section">
<h4>Special Optional Argument Handling<a name="Special_Optional_Argument_Handling"></a></h4>
<p>If the parser detects an option whose argument is optional, and the next argument &quot;looks like&quot; an option, that argument is not treated as the argument to the option, but as a potentially valid option. If, on the other hand, the optional argument is typed as a derivative of <tt>Number</tt>, then that argument is treated as the negative number argument of the option, even if the parser recognizes the corresponding numeric option.</p>
<div class="source">
<pre>@SPECIAL_OPTIONAL_ARGUMENT_HANDLING_EXAMPLE@</pre></div></div></div></div>
<div class="section">
<h2>Generating Command Line Help<a name="Generating_Command_Line_Help"></a></h2>
<p>When you call method <tt>OptionParser.printHelpOn()</tt>, JOpt Simple will write a help screen (80-column width) describing all the options it is configured with, along with types of option arguments, whether the option is required (in angle brackets) or optional (in square brackets), etc. To give an option a description, use <tt>OptionParser.accepts*()</tt> with a description argument. To give an option argument a description, use <tt>describedAs()</tt> on the return value of <tt>with*Arg()</tt>.</p>
<div class="source">
<pre>@HELP_SCREEN_EXAMPLE@</pre></div>
<p>Here is what the help screen looks like for the example above:</p>
<div class="source">
<pre>@HELP_SCREEN_EXAMPLE_HELP@</pre></div>
<p>If you want to create your own help screen, give method <tt>OptionParser.formatHelpWith()</tt> a <tt>HelpFormatter</tt> that builds the help screen as a String. When you call <tt>OptionParser.printHelpOn()</tt>, JOpt Simple will use your <tt>HelpFormatter</tt> to produce the help and write it to the given stream.</p>
<p>For example, this program:</p>
<div class="source">
<pre>@HELP_FORMATTER_EXAMPLE@</pre></div>
<p>yields the following output:</p>
<div class="source">
<pre>@HELP_FORMATTER_EXAMPLE_OUTPUT@</pre></div></div>
<div class="section">
<h2>Handling Exceptions<a name="Handling_Exceptions"></a></h2>
<p>JOpt Simple's classes raise some derivative of <tt>OptionException</tt> if they encounter problems during parsing. These exceptions are unchecked, so you don't have to do anything with such an exception if you don't want to. The rationale behind this decision is that you will most likely be invoking JOpt Simple's functionality from a <tt>main()</tt> method or very near to it, where a failure such as unrecognized arguments can just stop down the JVM and yield a stack trace without much user or programmer inconvenience. So, without any exception handling at all, a user would see something like this:</p>
<div class="source">
<pre>@EXAMPLE_STACK_TRACE@</pre></div>
<p>If you want to handle the exception yourself, you can catch <tt>OptionException</tt> in your code, and do whatever you please with the contents of the exception, perhaps using the help generation facility.</p>
<div class="section">
<h3>Suppressing <tt>UnrecognizedOptionException</tt><a name="Suppressing_UnrecognizedOptionException"></a></h3>
<p>Sometimes you want to ignore unrecognized options on the command line.</p>
<p>For example, you might be interested in handling only a part of the arguments given. Or you might want to pass on options to another program and not bother the user with providing two hyphens (<tt>--</tt>) to indicate the end of known options. Or maybe you want to provide future forwards/backwards compatibility when you foresee passing in new options to old code (or old code invoking new code with &quot;old&quot; arguments).</p>
<p>You can achieve this by using the method <tt>OptionParser.allowsUnrecognizedOptions()</tt>. When you call this method, then any unrecognized options handed to <tt>parse()</tt> are treated as non-option arguments, rather than causing an exception to be raised.</p>
<div class="source">
<pre>@UNRECOGNIZED_OPTIONS_ALLOWED_EXAMPLE@</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2017.
          All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
